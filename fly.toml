# fly.toml app configuration file generated for backend-lively-hill-7043 on 2025-10-11T19:51:00+01:00
#
# See https://fly.io/docs/reference/configuration/ for information about how to use this file.
#

app = 'backend-lively-hill-7043'
primary_region = 'arn'

[build]

[env]
  ALLOWED_ORIGINS = 'http://localhost:3000,https://exceletto.vercel.app,https://frontend-six-rho-53.vercel.app,https://frontend-44j5hlb03-hamas-projects-104eb9bb.vercel.app'
  API_V1_PREFIX = '/api/v1'
  CELERY_WORKER_CONCURRENCY = '2'
  CLEANUP_INTERVAL_HOURS = '1'
  CORS_ALLOW_CREDENTIALS = 'true'
  CORS_ALLOW_HEADERS = '["*"]'
  CORS_ALLOW_METHODS = '["GET","POST","PUT","DELETE","OPTIONS"]'
  CORS_ALLOW_ORIGIN_REGEX = 'https://.*\.vercel\.app'
  DEBUG = 'false'
  DOCS_URL = '/docs'
  ENVIRONMENT = 'production'
  FILE_RETENTION_HOURS = '24'
  HOST = '0.0.0.0'
  LOG_FORMAT = 'json'
  LOG_LEVEL = 'INFO'
  MAX_BATCH_SIZE = '10'
  MAX_FILE_SIZE_MB = '10'
  PORT = '8080'
  REDIS_CONNECT_TIMEOUT = '10'
  REDIS_MAX_CONNECTIONS = '20'
  REDIS_SOCKET_TIMEOUT = '30'
  REDOC_URL = '/redoc'
  SUPABASE_STORAGE_BUCKET = 'jobs'
  TEMP_STORAGE_PATH = '/app/temp_storage'

[http_service]
  internal_port = 8080
  force_https = true
  auto_stop_machines = 'stop'
  auto_start_machines = true
  min_machines_running = 0
  processes = ['app']

[[vm]]
  memory = '1gb'
  cpu_kind = 'shared'
  cpus = 1
